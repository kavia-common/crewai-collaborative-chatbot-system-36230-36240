{"is_source_file": true, "format": "Python", "description": "This file defines Django ORM models for managing chat sessions, agents, tools, messages, and run logs within a collaborative chatbot system. It includes data structures to store metadata, session info, agent profiles, tools, messages exchanged, and execution logs.", "external_files": ["django.db.models", "django.utils.timezone"], "external_methods": ["timezone.now"], "published": ["TimeStampedModel", "AgentProfile", "ToolDefinition", "ChatSession", "ChatAgentAssignment", "Message", "RunLog"], "classes": [{"name": "TimeStampedModel", "description": "Abstract base model with created_at and updated_at timestamps, intended to be inherited by other models to include automatic timestamping."}, {"name": "AgentProfile", "description": "Stores metadata about an agent (e.g., name, role, description, model hint, active status). Used for managing different agent personas in the chat system."}, {"name": "ToolDefinition", "description": "Represents metadata for tools available to agents, including name, description, schema, and active status."}, {"name": "ChatSession", "description": "Represents an individual chat session with session ID, optional title, user ID, and metadata, tracking conversations."}, {"name": "ChatAgentAssignment", "description": "Links agents to chat sessions with order and optional prompt overrides, along with associated tools."}, {"name": "Message", "description": "Stores individual messages exchanged during a chat, including roles (user, agent, system, tool), content, associated agent, tools, and metadata."}, {"name": "RunLog", "description": "Tracks the lifecycle and outcome of a crew AI run for a session, including status, details, agent involved, and structured metrics."}], "methods": [{"name": "str __str__(self)", "description": "Returns a human-readable string representation of the model instance, often used in admin interfaces or logging.", "scope": "ToolDefinition", "scopeKind": "class"}], "calls": ["timezone.now"], "search-terms": ["Django models", "chat session", "agent profile", "tool definition", "message exchange", "run log", "collaborative chatbot"], "state": 2, "file_id": 11, "knowledge_revision": 38, "git_revision": "35a6ac2c0f14471e71851183e5088af2119158e0", "revision_history": [{"27": "35a6ac2c0f14471e71851183e5088af2119158e0"}, {"38": "35a6ac2c0f14471e71851183e5088af2119158e0"}], "ctags": [{"_type": "tag", "name": "AgentProfile", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class AgentProfile(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ChatAgentAssignment", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class ChatAgentAssignment(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ChatSession", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class ChatSession(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class Message(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "ROLE_AGENT", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    ROLE_AGENT = \"agent\"$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "ROLE_CHOICES", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    ROLE_CHOICES = ($/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "ROLE_SYSTEM", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    ROLE_SYSTEM = \"system\"$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "ROLE_TOOL", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    ROLE_TOOL = \"tool\"$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "ROLE_USER", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    ROLE_USER = \"user\"$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "RunLog", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class RunLog(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "STATUS_CHOICES", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    STATUS_CHOICES = ($/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "STATUS_ERROR", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    STATUS_ERROR = \"error\"$/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "STATUS_RUNNING", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    STATUS_RUNNING = \"running\"$/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "STATUS_SUCCESS", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    STATUS_SUCCESS = \"success\"$/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "TimeStampedModel", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class TimeStampedModel(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ToolDefinition", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^class ToolDefinition(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    def __str__(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "abstract", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        abstract = True$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "agent", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    agent = models.ForeignKey(AgentProfile, on_delete=models.PROTECT, related_name=\"session_assi/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "agent", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    agent = models.ForeignKey(AgentProfile, on_delete=models.SET_NULL, null=True, blank=True, re/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "agent", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    agent = models.ForeignKey(AgentProfile, on_delete=models.SET_NULL, null=True, blank=True, re/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    content = models.TextField(help_text=\"Message content (markdown\\/text)\")$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(default=timezone.now, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    description = models.TextField(blank=True, default=\"\")$/", "language": "Python", "kind": "variable", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    description = models.TextField(blank=True, default=\"\", help_text=\"Detailed description or sy/", "language": "Python", "kind": "variable", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    details = models.TextField(blank=True, default=\"\", help_text=\"Human-readable details, stack /", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "extra", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    extra = models.JSONField(blank=True, null=True, help_text=\"Structured metadata and metrics\")$/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "indexes", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        indexes = [$/", "language": "Python", "kind": "variable", "scope": "Message.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "indexes", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        indexes = [$/", "language": "Python", "kind": "variable", "scope": "RunLog.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    is_active = models.BooleanField(default=True)$/", "language": "Python", "kind": "variable", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    is_active = models.BooleanField(default=True)$/", "language": "Python", "kind": "variable", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "latency_ms", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    latency_ms = models.IntegerField(null=True, blank=True, help_text=\"Latency for the LLM\\/tool/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    metadata = models.JSONField(blank=True, null=True, help_text=\"Arbitrary metadata (e.g., sett/", "language": "Python", "kind": "variable", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    metadata = models.JSONField(blank=True, null=True, help_text=\"Arbitrary metadata for the mes/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "model_hint", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    model_hint = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Optional LL/", "language": "Python", "kind": "variable", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    name = models.CharField(max_length=128, unique=True)$/", "language": "Python", "kind": "variable", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    name = models.CharField(max_length=64, unique=True, help_text=\"Logical name of the agent (e./", "language": "Python", "kind": "variable", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    order = models.PositiveIntegerField(default=0, help_text=\"Order in the collaboration sequenc/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        ordering = [\"-created_at\", \"-id\"]$/", "language": "Python", "kind": "variable", "scope": "RunLog.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        ordering = [\"-created_at\"]$/", "language": "Python", "kind": "variable", "scope": "ChatSession.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        ordering = [\"created_at\", \"id\"]$/", "language": "Python", "kind": "variable", "scope": "Message.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        ordering = [\"order\", \"id\"]$/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "prompt_override", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    prompt_override = models.TextField(blank=True, default=\"\", help_text=\"Optional per-session p/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    role = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"High-level role o/", "language": "Python", "kind": "variable", "scope": "AgentProfile", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    role = models.CharField(max_length=16, choices=ROLE_CHOICES, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "schema", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    schema = models.JSONField(blank=True, null=True, help_text=\"Optional tool schema\\/specificat/", "language": "Python", "kind": "variable", "scope": "ToolDefinition", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"assignments/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"messages\")$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"run_logs\")$/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    session_id = models.CharField(max_length=64, unique=True, db_index=True, help_text=\"External/", "language": "Python", "kind": "variable", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    status = models.CharField(max_length=16, choices=STATUS_CHOICES, default=STATUS_RUNNING, db_/", "language": "Python", "kind": "variable", "scope": "RunLog", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    title = models.CharField(max_length=200, blank=True, default=\"\", help_text=\"Optional user-fr/", "language": "Python", "kind": "variable", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "tokens_completion", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tokens_completion = models.IntegerField(null=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "tokens_prompt", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tokens_prompt = models.IntegerField(null=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "tool_input", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tool_input = models.JSONField(blank=True, null=True, help_text=\"Structured tool input\")$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "tool_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tool_name = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Tool that pr/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "tool_output", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tool_output = models.JSONField(blank=True, null=True, help_text=\"Structured tool output\")$/", "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "tools", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    tools = models.ManyToManyField(ToolDefinition, blank=True, related_name=\"agent_assignments\")$/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "unique_together", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        unique_together = (\"session\", \"agent\")$/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    updated_at = models.DateTimeField(auto_now=True, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^    user_id = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Optional exter/", "language": "Python", "kind": "variable", "scope": "ChatSession", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Agent Profile\"$/", "language": "Python", "kind": "variable", "scope": "AgentProfile.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Chat Agent Assignment\"$/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Chat Session\"$/", "language": "Python", "kind": "variable", "scope": "ChatSession.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Message\"$/", "language": "Python", "kind": "variable", "scope": "Message.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Run Log\"$/", "language": "Python", "kind": "variable", "scope": "RunLog.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name = \"Tool Definition\"$/", "language": "Python", "kind": "variable", "scope": "ToolDefinition.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Agent Profiles\"$/", "language": "Python", "kind": "variable", "scope": "AgentProfile.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Chat Agent Assignments\"$/", "language": "Python", "kind": "variable", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Chat Sessions\"$/", "language": "Python", "kind": "variable", "scope": "ChatSession.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Messages\"$/", "language": "Python", "kind": "variable", "scope": "Message.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Run Logs\"$/", "language": "Python", "kind": "variable", "scope": "RunLog.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "verbose_name_plural", "path": "/home/kavia/workspace/code-generation/crewai-collaborative-chatbot-system-36230-36240/chatbot_backend/api/models.py", "pattern": "/^        verbose_name_plural = \"Tool Definitions\"$/", "language": "Python", "kind": "variable", "scope": "ToolDefinition.Meta", "scopeKind": "class"}], "hash": "3e9d93c6548421fe1051c00f5bab0a4c", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/models.py", "fields": [{"name": "ROLE_AGENT = \"agent\"", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "ROLE_CHOICES = (", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "ROLE_SYSTEM = \"system\"", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "ROLE_TOOL = \"tool\"", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "ROLE_USER = \"user\"", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "STATUS_CHOICES = (", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "STATUS_ERROR = \"error\"", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "STATUS_RUNNING = \"running\"", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "STATUS_SUCCESS = \"success\"", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "abstract = True", "scope": "TimeStampedModel.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "agent = models.ForeignKey(AgentProfile, on_delete=models.PROTECT, related_name=\"session_assi/", "scope": "ChatAgentAssignment", "scopeKind": "class", "description": "unavailable"}, {"name": "agent = models.ForeignKey(AgentProfile, on_delete=models.SET_NULL, null=True, blank=True, re/", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "content = models.TextField(help_text=\"Message content (markdown\\/text)\")", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = models.DateTimeField(default=timezone.now, db_index=True)", "scope": "TimeStampedModel", "scopeKind": "class", "description": "unavailable"}, {"name": "description = models.TextField(blank=True, default=\"\")", "scope": "ToolDefinition", "scopeKind": "class", "description": "unavailable"}, {"name": "description = models.TextField(blank=True, default=\"\", help_text=\"Detailed description or sy/", "scope": "AgentProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "details = models.TextField(blank=True, default=\"\", help_text=\"Human-readable details, stack /", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "extra = models.JSONField(blank=True, null=True, help_text=\"Structured metadata and metrics\")", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "indexes = [", "scope": "Message.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "is_active = models.BooleanField(default=True)", "scope": "AgentProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "latency_ms = models.IntegerField(null=True, blank=True, help_text=\"Latency for the LLM\\/tool/", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "metadata = models.JSONField(blank=True, null=True, help_text=\"Arbitrary metadata (e.g., sett/", "scope": "ChatSession", "scopeKind": "class", "description": "unavailable"}, {"name": "metadata = models.JSONField(blank=True, null=True, help_text=\"Arbitrary metadata for the mes/", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "model_hint = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Optional LL/", "scope": "AgentProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "name = models.CharField(max_length=128, unique=True)", "scope": "ToolDefinition", "scopeKind": "class", "description": "unavailable"}, {"name": "name = models.CharField(max_length=64, unique=True, help_text=\"Logical name of the agent (e./", "scope": "AgentProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "order = models.PositiveIntegerField(default=0, help_text=\"Order in the collaboration sequenc/", "scope": "ChatAgentAssignment", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"-created_at\", \"-id\"]", "scope": "RunLog.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"-created_at\"]", "scope": "ChatSession.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"created_at\", \"id\"]", "scope": "Message.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"order\", \"id\"]", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "prompt_override = models.TextField(blank=True, default=\"\", help_text=\"Optional per-session p/", "scope": "ChatAgentAssignment", "scopeKind": "class", "description": "unavailable"}, {"name": "role = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"High-level role o/", "scope": "AgentProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "role = models.CharField(max_length=16, choices=ROLE_CHOICES, db_index=True)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "schema = models.JSONField(blank=True, null=True, help_text=\"Optional tool schema\\/specificat/", "scope": "ToolDefinition", "scopeKind": "class", "description": "unavailable"}, {"name": "session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"assignments/", "scope": "ChatAgentAssignment", "scopeKind": "class", "description": "unavailable"}, {"name": "session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"messages\")", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "session = models.ForeignKey(ChatSession, on_delete=models.CASCADE, related_name=\"run_logs\")", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "session_id = models.CharField(max_length=64, unique=True, db_index=True, help_text=\"External/", "scope": "ChatSession", "scopeKind": "class", "description": "unavailable"}, {"name": "status = models.CharField(max_length=16, choices=STATUS_CHOICES, default=STATUS_RUNNING, db_/", "scope": "RunLog", "scopeKind": "class", "description": "unavailable"}, {"name": "title = models.CharField(max_length=200, blank=True, default=\"\", help_text=\"Optional user-fr/", "scope": "ChatSession", "scopeKind": "class", "description": "unavailable"}, {"name": "tokens_completion = models.IntegerField(null=True, blank=True)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "tokens_prompt = models.IntegerField(null=True, blank=True)", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "tool_input = models.JSONField(blank=True, null=True, help_text=\"Structured tool input\")", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "tool_name = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Tool that pr/", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "tool_output = models.JSONField(blank=True, null=True, help_text=\"Structured tool output\")", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "tools = models.ManyToManyField(ToolDefinition, blank=True, related_name=\"agent_assignments\")", "scope": "ChatAgentAssignment", "scopeKind": "class", "description": "unavailable"}, {"name": "unique_together = (\"session\", \"agent\")", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "updated_at = models.DateTimeField(auto_now=True, db_index=True)", "scope": "TimeStampedModel", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = models.CharField(max_length=128, blank=True, default=\"\", help_text=\"Optional exter/", "scope": "ChatSession", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Agent Profile\"", "scope": "AgentProfile.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Chat Agent Assignment\"", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Chat Session\"", "scope": "ChatSession.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Message\"", "scope": "Message.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Run Log\"", "scope": "RunLog.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name = \"Tool Definition\"", "scope": "ToolDefinition.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Agent Profiles\"", "scope": "AgentProfile.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Chat Agent Assignments\"", "scope": "ChatAgentAssignment.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Chat Sessions\"", "scope": "ChatSession.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Messages\"", "scope": "Message.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Run Logs\"", "scope": "RunLog.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "verbose_name_plural = \"Tool Definitions\"", "scope": "ToolDefinition.Meta", "scopeKind": "class", "description": "unavailable"}]}